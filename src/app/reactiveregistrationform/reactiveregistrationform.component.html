<div class="contentDiv">
  <h1>Reactive Registration Form</h1>
  <mat-card id="textCardBody">
    <mat-card-content>
      <form (ngSubmit)="onSubmit()" [formGroup]="profileForm">
        <p>First name</p>
        <mat-form-field class="materialForm" appearance="fill" hideRequiredMarker>
          <mat-label></mat-label>
          <input
            matInput
            formControlName="firstName"
            name="firstName"
            />
            @if (firstName?.hasError('required')) {
              <mat-error>Enter your first name</mat-error>
            }
            @if (firstName?.hasError('minlength')) {
              <mat-error>Minimum 2 characters required</mat-error>
            }
            @if (firstName?.hasError('pattern')) {
              <mat-error>Must be a valid name</mat-error>
            }
          </mat-form-field>
          <p>Last name</p>
          <mat-form-field class="materialForm" appearance="fill" hideRequiredMarker>
            <mat-label></mat-label>
            <input
              matInput
              formControlName="lastName"
              name="lastName"
              />
              @if (lastName?.hasError('required')) {
                <mat-error>Enter your last name</mat-error>
              }
              @if (lastName?.hasError('minlength')) {
                <mat-error>Minimum 2 characters required</mat-error>
              }
              @if (lastName?.hasError('pattern')) {
                <mat-error>Must be a valid name</mat-error>
              }
            </mat-form-field>
            <p>Person ID</p>
            <mat-form-field class="materialForm" appearance="fill" hideRequiredMarker>
              <mat-label></mat-label>
              <input
                matInput
                formControlName="personid"
                name="personid"
                />
                @if (personid?.hasError('required')) {
                  <mat-error>Enter your person id</mat-error>
                }
                @if (personid?.hasError('minlength')) {
                  <mat-error>Id too short</mat-error>
                }
                @if (personid?.hasError('maxlength')) {
                  <mat-error>Id too long</mat-error>
                }
                @if (personid?.hasError('pattern')) {
                  <mat-error>Must be a valid id</mat-error>
                }
              </mat-form-field>
              <p>Email</p>
              <mat-form-field class="materialForm" appearance="fill" hideRequiredMarker>
                <mat-label></mat-label>
                <input
                  matInput
                  formControlName="email"
                  name="email"
                  />
                  @if (email?.hasError('required')) {
                    <mat-error>Enter your e-mail address</mat-error>
                  }
                  @if (email?.hasError('minlength')) {
                    <mat-error>Minimum 6 characters required</mat-error>
                  }
                  @if (email?.hasError('pattern')) {
                    <mat-error>Needs to be a valid email address</mat-error>
                  }
                  @if (email?.hasError('email')) {
                    <mat-error>Needs to be an email address</mat-error>
                  }
                </mat-form-field>
                <p>Username</p>
                <mat-form-field class="materialForm" appearance="fill" hideRequiredMarker>
                  <mat-label></mat-label>
                  <input
                    matInput
                    formControlName="userName"
                    name="userName"
                    />
                    @if (userName?.hasError('required')) {
                      <mat-error>Enter your username</mat-error>
                    }
                    @if (userName?.hasError('minlength')) {
                      <mat-error>Minimum 4 characters required</mat-error>
                    }
                    @if (userName?.hasError('pattern')) {
                      <mat-error>Only numbers and alphabets accepted</mat-error>
                    }
                  </mat-form-field>
                  <p>Password</p>
                  <mat-form-field class="materialForm" appearance="fill" hideRequiredMarker>
                    <mat-label></mat-label>
                    <input
                      matInput
                      formControlName="password"
                      name="password"
                      />
                      @if (password?.hasError('required')) {
                        <mat-error>Enter your password</mat-error>
                      }
                      @if (password?.hasError('minlength')) {
                        <mat-error>Minimum 8 characters required</mat-error>
                      }
                      @if (password?.hasError('pattern')) {
                        <mat-error>Only numbers and alphabets accepted</mat-error>
                      }
                    </mat-form-field>
                    <p>Confirm password</p>
                    <mat-form-field class="materialForm" appearance="fill" hideRequiredMarker>
                      <mat-label></mat-label>
                      <input
                        matInput
                        formControlName="confpassw"
                        name="confpassw"
                        />
                        @if (confpassw?.hasError('required')) {
                          <mat-error>Please confirm your password</mat-error>
                        }
                        @if (confpassw?.hasError('minlength')) {
                          <mat-error>Minimum 8 characters required</mat-error>
                        }
                        @if (profileForm.get('confpassw')?.errors?.['passwordCheck']) {
                          <mat-error>Passwords do not match</mat-error>
                        }
                      </mat-form-field>
                      <p>Accept terms and conditions</p>
                      <p>
                        <input type="checkbox" name="checkb" required formControlName="checkb"/>
                        @if (checkb?.hasError('required')) {
                          <mat-error>Please accept terms and conditions before submitting the form</mat-error>
                        }
                      </p>
                      <button mat-raised-button type="submit" [disabled]="profileForm.invalid">Submit</button>
                    </form>
                  </mat-card-content>
                </mat-card>
              </div>